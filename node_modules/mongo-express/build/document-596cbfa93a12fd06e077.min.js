webpackJsonp([4],{

/***/ 9:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_jquery__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_jquery___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_jquery__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__codeMirrorLoader__ = __webpack_require__(1);



const doc = __WEBPACK_IMPORTED_MODULE_1__codeMirrorLoader__["default"].fromTextArea(document.getElementById('document'), {
  mode: {
    name: 'javascript',
    json: true,
  },
  indentUnit: 4,
  lineNumbers: true,
  autoClearEmptyLines: true,
  matchBrackets: true,
  readOnly: ME_SETTINGS.readOnly,
  theme: ME_SETTINGS.codeMirrorEditorTheme,
});

window.onBackClick = function () {
  // "Back" button is clicked

  if (doc.isClean()) {
    history.back();
  } else if (__WEBPACK_IMPORTED_MODULE_0_jquery___default()('#discardChanges').length === 0) {
    __WEBPACK_IMPORTED_MODULE_0_jquery___default()('#pageTitle').parent().append(
      '<div id="discardChanges" class="alert alert-warning"><strong>Document has changed! Are you sure you wish to go back?</strong></div>'
    );
    __WEBPACK_IMPORTED_MODULE_0_jquery___default()('.backButton').text('Back & Discard Changes');
  } else {
    history.back();
  }

  return false;
};

window.onSubmitClick = function () {
  // Save button is clicked
  __WEBPACK_IMPORTED_MODULE_0_jquery___default()('#discardChanges').remove();

  __WEBPACK_IMPORTED_MODULE_0_jquery___default.a.ajax({
    type: 'POST',
    url: `${ME_SETTINGS.baseHref}checkValid`,
    data: {
      document: doc.getValue(),
    },
  }).done((data) => {
    if (data === 'Valid') {
      __WEBPACK_IMPORTED_MODULE_0_jquery___default()('#documentInvalidJSON').remove();
      __WEBPACK_IMPORTED_MODULE_0_jquery___default()('#documentEditForm').submit();
    } else if (__WEBPACK_IMPORTED_MODULE_0_jquery___default()('#documentInvalidJSON').length === 0) {
      __WEBPACK_IMPORTED_MODULE_0_jquery___default()('#pageTitle').parent().append('<div id="documentInvalidJSON" class="alert alert-danger"><strong>Invalid JSON</strong></div>');
    }
  });
  return false;
};


/***/ })

},[9]);